'use strict';
var app;

app = angular.module('app', ['ngRoute', 'ngCookies', 'jed']);

app.config([
  '$routeProvider', '$locationProvider', function($routeProvider, $locationProvider) {
    return $routeProvider.when('/home', {
      templateUrl: 'partials/home.html',
      controller: 'HomeController'
    }).when('/other', {
      templateUrl: 'partials/other.html',
      controller: 'OtherController'
    }).otherwise({
      redirectTo: '/home'
    });
  }
]).run([
  '$rootScope', '$window', 'i18n', function($rootScope, $window, i18n) {
    var defaultLang, getLang;
    defaultLang = 'en_US';
    getLang = function() {
      if (store.get('lang')) {
        return store.get('lang');
      } else {
        return defaultLang;
      }
    };
    i18n.setTranslationPath('translations').setDefaultLang(defaultLang).setLang(getLang());
    $rootScope.languages = [
      {
        name: 'English',
        value: 'en_US'
      }, {
        name: 'French',
        value: 'fr_FR'
      }
    ];
    $rootScope.changeLang = function(value) {
      store.set('lang', value);
      return $window.location.reload();
    };
    return $rootScope.currentLang = function() {
      return getLang();
    };
  }
]);

app.controller('HomeController', [
  '$scope', 'i18n', function($scope, i18n) {
    i18n.loadPage('home').then(function() {
      return $scope.title = i18n._('Text translated from the controller');
    });
    $scope.nbr = 10;
    $scope.object = 'object';
    $scope.objects = 'objects';
    return $scope.simplePlural = 2;
  }
]);

app.controller('OtherController', [
  'i18n', function(i18n) {
    return i18n.loadPage('other');
  }
]);

//# sourceMappingURL=data:application/json;base64,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LEVBQWtDO0VBQ2hDLE1BRGdDLEVBRWhDLFNBQUMsSUFBRCxHQUFBO1dBQ0UsSUFBSSxDQUFDLFFBQUwsQ0FBYyxPQUFkLEVBREY7RUFBQSxDQUZnQztDQUFsQyxDQS9EQSxDQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5hcHAgPSBhbmd1bGFyLm1vZHVsZSAnYXBwJywgWyduZ1JvdXRlJywgJ25nQ29va2llcycsICdqZWQnXVxuXG5hcHAuY29uZmlnKFtcbiAgJyRyb3V0ZVByb3ZpZGVyJyxcbiAgJyRsb2NhdGlvblByb3ZpZGVyJ1xuICAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSAtPlxuICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAud2hlbiAnL2hvbWUnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2hvbWUuaHRtbCdcbiAgICAgICAgY29udHJvbGxlcjogJ0hvbWVDb250cm9sbGVyJ1xuICAgICAgLndoZW4gJy9vdGhlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvb3RoZXIuaHRtbCdcbiAgICAgICAgY29udHJvbGxlcjogJ090aGVyQ29udHJvbGxlcidcbiAgICAgIC5vdGhlcndpc2VcbiAgICAgICAgcmVkaXJlY3RUbzogJy9ob21lJ1xuXSlcbi5ydW4oW1xuICAnJHJvb3RTY29wZSdcbiAgJyR3aW5kb3cnXG4gICdpMThuJ1xuICAoJHJvb3RTY29wZSwgJHdpbmRvdywgaTE4bikgLT5cbiAgICBkZWZhdWx0TGFuZyA9ICdlbl9VUydcbiAgICBnZXRMYW5nID0gLT5cbiAgICAgIGlmIHN0b3JlLmdldCgnbGFuZycpIHRoZW4gc3RvcmUuZ2V0KCdsYW5nJykgZWxzZSBkZWZhdWx0TGFuZ1xuXG4gICAgaTE4bi5zZXRUcmFuc2xhdGlvblBhdGggJ3RyYW5zbGF0aW9ucydcbiAgICAgIC5zZXREZWZhdWx0TGFuZyBkZWZhdWx0TGFuZ1xuICAgICAgLnNldExhbmcgZ2V0TGFuZygpXG5cbiAgICAkcm9vdFNjb3BlLmxhbmd1YWdlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0VuZ2xpc2gnXG4gICAgICAgIHZhbHVlOiAnZW5fVVMnXG4gICAgICB9XG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdGcmVuY2gnXG4gICAgICAgIHZhbHVlOiAnZnJfRlInXG4gICAgICB9XG4gICAgXVxuXG4gICAgJHJvb3RTY29wZS5jaGFuZ2VMYW5nID0gKHZhbHVlKSAtPlxuICAgICAgc3RvcmUuc2V0ICdsYW5nJywgdmFsdWVcbiAgICAgICR3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcblxuICAgICRyb290U2NvcGUuY3VycmVudExhbmcgPSAtPlxuICAgICAgZ2V0TGFuZygpXG5dKVxuXG5hcHAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBbXG4gICckc2NvcGUnXG4gICdpMThuJ1xuICAoJHNjb3BlLCBpMThuKSAtPlxuICAgIGkxOG4ubG9hZFBhZ2UoJ2hvbWUnKS50aGVuIC0+XG4gICAgICAkc2NvcGUudGl0bGUgPSBpMThuLl8gJ1RleHQgdHJhbnNsYXRlZCBmcm9tIHRoZSBjb250cm9sbGVyJ1xuXG4gICAgJHNjb3BlLm5iciA9IDEwXG4gICAgJHNjb3BlLm9iamVjdCA9ICdvYmplY3QnXG4gICAgJHNjb3BlLm9iamVjdHMgPSAnb2JqZWN0cydcbiAgICAkc2NvcGUuc2ltcGxlUGx1cmFsID0gMlxuXSlcblxuYXBwLmNvbnRyb2xsZXIoJ090aGVyQ29udHJvbGxlcicsIFtcbiAgJ2kxOG4nXG4gIChpMThuKSAtPlxuICAgIGkxOG4ubG9hZFBhZ2UgJ290aGVyJ1xuXSlcbiJdfQ==